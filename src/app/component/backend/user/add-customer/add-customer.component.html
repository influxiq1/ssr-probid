<div class="adminwrappercls">
    <app-header></app-header>
    <div class="main-content-wrap">
      <mat-card-content class="bred_cram_wrapper_list">
        <mat-list class="bred_cram_wrapper">
          <mat-list-item mat-list-item *ngIf="userDetails.type == 'admin'"> <a
              [routerLink]="'/admin-dashboard'">Dashboard</a>
          </mat-list-item>
          <mat-list-item mat-list-item *ngIf="userDetails.type == 'customer'"> <a
              [routerLink]="'/customer-dashboard'">Dashboard</a> </mat-list-item>
          <mat-list-item mat-list-item *ngIf="userDetails.type == 'salesrep'"> <a
              [routerLink]="'/rep-dashboard'">Dashboard</a> </mat-list-item>
  
          <mat-list-item mat-list-item *ngIf="userDetails.type == 'admin'"> <a [routerLink]="'/customer-list-admin'">customer List</a> </mat-list-item>
          <mat-list-item mat-list-item *ngIf="userDetails.type == 'customer'"> <a [routerLink]="'/customer-list-customer'">customer List</a> </mat-list-item>
          <mat-list-item mat-list-item *ngIf="userDetails.type == 'salesrep'"> <a [routerLink]="'/customer-list-salesrep'">customer List</a> </mat-list-item>
  
          <mat-list-item mat-list-item *ngIf="userDetails.type == 'admin'"> {{header_text}} </mat-list-item>
          <mat-list-item mat-list-item *ngIf="userDetails.type == 'customer'"> {{header_text}} </mat-list-item>
          <mat-list-item mat-list-item *ngIf="userDetails.type == 'salesrep'"> {{header_text}} </mat-list-item>
  
        </mat-list>
      </mat-card-content>
      
        <mat-card class="generalcls blog" style="padding: 0 !important;">  
            <span class="searchblock">
                <span class="searchblockwrapper">
                  <span>
                    <h2>{{header_text}} </h2>
                  </span>
                     
                </span>
                  
                  <!-- <img src="../../../../assets/images/admin-manage-type_img2.jpg" style="width: 100%; display: block; margin: 0; padding: 0;"> -->
              </span>
        
  
              <mat-card>
  
                  <mat-card-content class="newform_css">

      <!-- for admin add  -->
      <div>


          <form [formGroup]="addcustomerForm" > 

              <mat-form-field>
                <input matInput type="text" placeholder="First Name" formControlName="firstname" (blur)="inputUntouched('firstname')">
                <mat-error
                  *ngIf="!addcustomerForm.controls['firstname'].valid && addcustomerForm.controls['firstname'].errors.required && addcustomerForm.controls['firstname'].touched">
                  First Name field can not be blank</mat-error>
              </mat-form-field>
        
        
              <mat-form-field>
                <input matInput type="text" placeholder="Last Name" formControlName="lastname" (blur)="inputUntouched('lastname')">
                <mat-error
                  *ngIf="!addcustomerForm.controls['lastname'].valid && addcustomerForm.controls['lastname'].errors.required && addcustomerForm.controls['lastname'].touched">
                  Last Name field can not be blank</mat-error>
              </mat-form-field>
        
              <mat-form-field>
                <input matInput type="text" placeholder="Email" formControlName="email" (blur)="inputUntouched('email')">
                <mat-error
                  *ngIf="!addcustomerForm.controls['email'].valid && addcustomerForm.controls['email'].errors.required && addcustomerForm.controls['email'].touched">
                  Email field can not be blank</mat-error>
                <mat-error *ngIf="!addcustomerForm.controls['email'].valid && !addcustomerForm.controls['email'].errors.required">Email is
                  not valid</mat-error>
              </mat-form-field>
        
              <mat-form-field>
                <input matInput type="text" placeholder="Phone Number" formControlName="phone" (blur)="inputUntouched('phone')">
                <mat-error
                  *ngIf="!addcustomerForm.controls['phone'].valid && addcustomerForm.controls['phone'].errors.required && addcustomerForm.controls['phone'].touched">
                  Phone Number field can not be blank</mat-error>
              </mat-form-field>
              
              <mat-form-field *ngIf="router.url == '/add-customer'">
                <input matInput placeholder="Password" type="password" formControlName="password" (blur)="inputUntouched('password')">
                <mat-error
                  *ngIf="!addcustomerForm.controls['password'].valid && addcustomerForm.controls['password'].errors.required && addcustomerForm.controls['password'].touched">
                  Password field can not be blank</mat-error> 
              </mat-form-field>
      
              <mat-form-field *ngIf="router.url == '/add-customer'">
              <input matInput placeholder="Confirm Password" type="password" formControlName="conpass" (blur)="inputUntouched('conpass')">
              <mat-error  *ngIf="!addcustomerForm.controls['conpass'].valid && addcustomerForm.controls['conpass'].errors.required && addcustomerForm.controls['conpass'].touched">
                  Confirm Password field can not be blank</mat-error>
              <mat-error *ngIf="!addcustomerForm.controls['conpass'].valid && addcustomerForm.controls['conpass'].touched">Password does not match </mat-error>
              </mat-form-field>
      
                <mat-form-field>
                  <input matInput placeholder="Address" type="text" formControlName="address" (blur)="inputUntouched('address')">
                  <mat-error
                    *ngIf="!addcustomerForm.controls['address'].valid && addcustomerForm.controls['address'].errors.required && addcustomerForm.controls['address'].touched">
                    Address field can not be blank</mat-error>
                </mat-form-field>
      

                <mat-form-field>
                  <mat-label>State</mat-label>
                  <mat-select formControlName="state" (blur)="inputUntouched('state')" (selectionChange)="getCity($event.value);">
                    <mat-option [value]=0>Select a state</mat-option>
                    <mat-option *ngFor="let state of stateList;" value="{{ state.name }}">{{ state.name }}</mat-option>
                  </mat-select>
                  <mat-error
                      *ngIf="!addcustomerForm.controls['state'].valid && addcustomerForm.controls['state'].errors.required && addcustomerForm.controls['state'].touched">
                      State field can not be blank</mat-error>
                </mat-form-field>

      
                <mat-form-field>
                  <mat-label>City</mat-label>
                  <mat-select formControlName="city" (blur)="inputUntouched('city')" >
                    <mat-option [value]=0>Select a city</mat-option>
                    <mat-option *ngFor="let city of allCities;" value="{{ city }}">
                        {{ city }}</mat-option>
                  </mat-select>
                  <mat-error
                    *ngIf="!addcustomerForm.controls['city'].valid && addcustomerForm.controls['city'].errors.required && addcustomerForm.controls['city'].touched">
                    City field can not be blank</mat-error>
                </mat-form-field>
                

                <mat-form-field>
                  <input matInput placeholder="Zip Code" type="text" formControlName="zip" (blur)="inputUntouched('zip')">
                  <mat-error
                    *ngIf="!addcustomerForm.controls['zip'].valid && addcustomerForm.controls['zip'].errors.required && addcustomerForm.controls['zip'].touched">
                    Zip field can not be blank</mat-error>
                </mat-form-field>
      
      
                <mat-form-field [ngClass]="userType == 'salesrep' ? 'hideclasslasttiem' : 'test' " >
                  <mat-label>Assign SalesRep</mat-label>
                  <mat-select formControlName="salesrep" (blur)="inputUntouched('salesrep')">
                    <mat-option *ngFor="let rep of salesrepList" [value]="rep._id">
                      {{rep.fullname}}
                    </mat-option>
                  </mat-select>
                  <mat-error
                      *ngIf="!addcustomerForm.controls['salesrep'].valid && addcustomerForm.controls['salesrep'].errors.required && addcustomerForm.controls['salesrep'].touched">
                      salesrep field can not be blank</mat-error>
                </mat-form-field>

                
      
                <span class="bottompart">           
                    <button mat-raised-button class="btn-lg" type="button'" 
                     (click)="addcustomerFormSubmit()">{{btn_text}}</button> 
                </span>
            </form>
      
      </div>



    </mat-card-content>

  </mat-card>
</mat-card>
</div>



</div>
<app-footer></app-footer>

